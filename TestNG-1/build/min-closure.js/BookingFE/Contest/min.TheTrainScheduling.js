'use strict';function processData(a){a=a.split("\n");a=a.splice(1,a.length-2);var d=[],h;for(h in a){var k=a[h].split(":"),e={},l=k[1].split(/\(|\)/),f=0,m=[],n;for(n in l){var g=parseInt(l[n]);isNaN(g)||(m.push(g),f+=parseInt(g))}e.k=k[0].trim()+".";e.v=f;e.list=m.reverse();d.push(e)}d.sort(function(a,b){if(a.v>b.v)return 1;if(a.v<b.v)return-1;if(a.v==b.v){if(a.list.length>b.list.length)return 1;if(a.list.length>b.list.length)return-1;if(a.list.length==b.list.length){for(var c=0;c<a.list.length;c++){if(a.list[c]>
b.list[c])return 1;if(a.list[c]<b.list[c])return-1}return 0}}});for(var p in d)console.log(d[p].k)}process.stdin.resume();process.stdin.setEncoding("utf-8");var _input="";process.stdin.on("data",function(a){_input+=a});process.stdin.on("end",function(){var a=new Date;processData(_input);console.log("Time Elapsed:"+(new Date-a))});