'use strict';var fs=require("fs"),path=require("path"),join=path.join,dirname=path.dirname,exists=fs.existsSync||path.existsSync,defaults={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug",
"bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],"module_root compiled version platform arch bindings".split(" ")]};
function bindings(a){"string"==typeof a?a={bindings:a}:a||(a={});a.__proto__=defaults;a.module_root||(a.module_root=exports.getRoot(exports.getFileName()));".node"!=path.extname(a.bindings)&&(a.bindings+=".node");for(var b=[],c=0,e=a.try.length,d,f;c<e;c++){d=join.apply(null,a.try[c].map(function(b){return a[b]||b}));b.push(d);try{return f=a.path?require.resolve(d):require(d),a.path||(f.path=d),f}catch(g){if(!/not find/i.test(g.message))throw g;}}c=Error("Could not locate the bindings file. Tried:\n"+
b.map(function(b){return a.arrow+b}).join("\n"));c.tries=b;throw c;}module.exports=exports=bindings;exports.getFileName=function(a){var b=Error.prepareStackTrace,c=Error.stackTraceLimit,e={},d;Error.stackTraceLimit=10;Error.prepareStackTrace=function(b,c){for(var e=0,h=c.length;e<h;e++)if(d=c[e].getFileName(),d!==__filename)if(a){if(d!==a)break}else break};Error.captureStackTrace(e);e.stack;Error.prepareStackTrace=b;Error.stackTraceLimit=c;return d};
exports.getRoot=function(a){for(var b=dirname(a),c;;){"."===b&&(b=process.cwd());if(exists(join(b,"package.json"))||exists(join(b,"node_modules")))return b;if(c===b)throw Error('Could not find module root given file: "'+a+'". Do you have a `package.json` file? ');c=b;b=join(b,"..")}};