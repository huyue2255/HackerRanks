'use strict';var zmq=require("../");
module.exports.start=function(d){var c=zmq.socket("router");c.on("message",function(){var a=Array.prototype.slice.call(arguments);if(!a||!a.length)throw Error("Invalid ZAP request");for(var e=[],b=a.shift();b&&0!=b.length;)e.push(b),b=a.shift();e.push(b);if(6>a.length)throw Error("Invalid ZAP request");var b=a.shift(),d=a.shift();(new Buffer(a.shift())).toString("utf8");(new Buffer(a.shift())).toString("utf8");(new Buffer(a.shift())).toString("utf8");(new Buffer(a.shift())).toString("utf8");a.slice(0);
c.send(e.concat([b,d,new Buffer("200","utf8"),new Buffer("OK","utf8"),new Buffer(0),new Buffer(0)]))});c.bindSync("inproc://zeromq.zap.01."+d);return c};