'use strict';var zmq=require(".."),should=require("should");
describe("socket.events",function(){it("should support events",function(d){var b=zmq.socket("rep"),c=zmq.socket("req");b.on("message",function(a){a.should.be.an.instanceof(Buffer);a.toString().should.equal("hello");b.send("world")});b.bind("inproc://stuffevents",function(a){if(a)throw a;});b.on("bind",function(){c.connect("inproc://stuffevents");c.on("message",function(a){a.should.be.an.instanceof(Buffer);a.toString().should.equal("world");c.close();b.close();d()});c.send("hello")})})});